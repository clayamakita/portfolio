---
const { work, id } = Astro.props;
---
<section id={id} class="job-description">
    <div class="title">
        <h2>{work['job-title']} <span class="at">@ {work['company-link'] && work['company-link'] != "" ? <a href={work['company-link']}>{work['company-name']}</a> : work['company-name']}</span></h2>
        <h3 class="date">{work['date']}</h3>
    </div>
    <p class="description">{work['description']}</p>
    <ul class="achievements">
        {work['achievements'].map((achievement: string) => (
            <li>{achievement}</li>
        ))}
    </ul>
    <ul class="skills">
        {work['skills'].map((skill: string) => (
            <li>{skill}</li>
        ))}
    </ul>
</section>

<style lang="scss">
    .job-description {
        margin-block-end: 6rem;
        h2 {
            font-size: 2.1rem;
            .at {
                color: var(--primary-color-3);
            }
            a {
                font-size: 2.1rem;
                color: var(--primary-color-3);
            }
        }
        h3 {
            font-size: 1.4rem;
        }
        .title {
            margin-block-end: 1.6rem;
        }
        .description {
            margin-block: 1.6rem;
        }

        &::before {
            content: "";
            width: 20px;
            height: 20px;
            background-color: #ccc;
            position: absolute;
            border-radius: 50%;
            left: -50px;
        }
        &:nth-last-child(n+2)::after {
            content: "";
            width: 2px;
            height: calc(100% + 50px);
            background-color: #ccc;
            position: absolute;
            left: -41px;
        }
        .achievements {
            li {
                margin-block: 1.6rem;
                &::before {
                    content: "â–¹ ";
                    color: var(--primary-color-1);
                }
            }
        }
        .skills {
            margin-block: 1.6rem;
            display: flex;
            column-gap: 1rem;
            flex-wrap: wrap;
            li:not(:last-child)::after {
                content: " | ";
            }
        }
    }
</style>